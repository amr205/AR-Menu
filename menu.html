<!DOCTYPE html>
<head>
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<title>Menu</title>

    <!-- import JQUERY -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- import BOOTSTRAP -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

    <!-- import A-FRAME and AR.JS script -->
	<script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
    <script src="https://rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>

    <!-- import custom CSS -->
    <link rel="stylesheet" href="css/menu.css">
    
	<!-- UI EVENTS script -->
    <script>
        function closeMenu(id) {
            document.getElementById("menuContainer").style.display = "none"; 
            $("#"+id).fadeOut()
        }

        function displayMenu(id) {
            document.getElementById("menuContainer").style.display = "block"; 
            $("#"+id).fadeIn()
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById("menuContainer").style.display = "none"; 
            $("#tacosCP").hide()
        }, false);
    </script>

    <!-- CLICK EVENTS script -->
    <script>
        AFRAME.registerComponent('markerhandler', {
        
            init: function() {
                const animatedMarker = document.querySelector("#animated-marker");
                const aEntity = document.querySelector("#animated-model");
        
                // every click, we make our model grow in size :)
                animatedMarker.addEventListener('click', function(ev, target){
                    const intersectedElement = ev && ev.detail && ev.detail.intersectedEl;
                    if (aEntity && intersectedElement === aEntity) {
                        displayMenu("tacosCP")
                    }
                });
        }});
    </script>

</head>

<body style='margin : 0px; overflow: hidden;'>
	 <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false;'>
		<a-marker markerhandler emitevents="true" cursor="rayOrigin: mouse" id="animated-marker" type="pattern" url="data/letterA.patt">
		    
		    <a-image src="images/circle.png" rotation="-90 0 0" position="0 0 0" height="1.2" width="1.2">
    			<a-animation attribute="rotation" 
    			dur="3000" to="-90 360 0" 
    			repeat="indefinite" 
    			easing="linear"></a-animation>
    		</a-image>
    
    		<a-image id="animated-model" src="images/plus.png" rotation="-90 0 0" position="0 0.3 0" height="1" width="1"></a-image>
		</a-marker>
		<a-entity camera></a-entity>
	</a-scene>

    <div id="menuContainer">
		<div id="tacosCP">
			<div class="container">
				<div class="card p-2 mt-5 menuElement">
					<div class="row">
					<iframe width="560" height="315" src="https://www.youtube.com/embed/T24XEH9aTIQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
					</div>
					<h5 class="card-title mt-2">Tacos de cochinita pibil</h5>
					<p class="card-text">
						Ingredientes
						<ul>
							<li>Pollo</li>
							<li>Achiote</li>
							<li>Jugo de naranja</li>
							<li>Chile huajillo</li>
							<li>Oregano</li>
						</ul>
					</p>
					<a href="javascript:closeMenu('tacosCP');" class="btn btn-outline-primary" id="cpCerrar">Cerrar</a>
				</div>
			</div>
		</div>
	</div>
</body>
</html>