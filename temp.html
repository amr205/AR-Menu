<!DOCTYPE html>
<head>
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<title>Menu</title>
	<script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
    <script src="https://rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    
    <!-- import events.js script -->
    <script>
        AFRAME.registerComponent('markerhandler', {
        
            init: function() {
                const animatedMarker = document.querySelector("#animated-marker");
                const aEntity = document.querySelector("#animated-model");
        
                // every click, we make our model grow in size :)
                animatedMarker.addEventListener('click', function(ev, target){
                    const intersectedElement = ev && ev.detail && ev.detail.intersectedEl;
                    if (aEntity && intersectedElement === aEntity) {
                        console.log("click")
                        alert("click")
                    }
                });
        }});
    </script>

	<link rel="stylesheet" href="css/menu.css">
</head>

<body style='margin : 0px; overflow: hidden;'>
	 <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false;'>
		<a-marker markerhandler emitevents="true" cursor="rayOrigin: mouse" id="animated-marker" type="pattern" url="data/letterA.patt">
		    
		    <a-image src="images/circle.png" rotation="-90 0 0" position="0 0 0" height="1.2" width="1.2">
    			<a-animation attribute="rotation" 
    			dur="3000" to="-90 360 0" 
    			repeat="indefinite" 
    			easing="linear"></a-animation>
    		</a-image>
    
    		<a-image id="animated-model" src="images/plus.png" rotation="-90 0 0" position="0 0.3 0" height="1" width="1"></a-image>
		</a-marker>
		<a-entity camera></a-entity>
	</a-scene>
</body>
</html>